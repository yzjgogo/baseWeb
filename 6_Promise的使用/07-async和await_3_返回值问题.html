<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>

<script>

  /**

   https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise

   * */

  async function fetchProducts() {
    try {
      const response = await fetch('https://mdn.github.io/learning-area/javascript/apis/fetching-data/can-store/products.json');
      if (!response.ok) {
        throw new Error(`HTTP 请求错误：${response.status}`);
      }
      const json = await response.json();
      console.log(json[0].name);
      //参考：07-async和await_1_async的理解.html，异步函数的返回值会被包装成为Promise<Json>返回
      return json
    }
    catch(error) {
      console.error(`无法获取产品列表：${error}`);
    }
  }

  //result是一个Promise<Json>类型，因为fetchProducts()是异步函数
  let result = fetchProducts();
  result.then(data=>{
    console.log("异步函数总是返回一个Promise")
    console.log(data)
  })



</script>
</body>
</html>